{
  "timestamp": "2025-08-15T13:15:00Z",
  "summary": {
    "build_errors": {
      "status": "ISSUES",
      "count": 69,
      "priority": "HIGH"
    },
    "test_collection": {
      "status": "FAILING", 
      "count": 7,
      "priority": "HIGH"
    },
    "admin_route_conflicts": {
      "status": "RISK",
      "count": 2,
      "priority": "MEDIUM"
    },
    "legacy_api_routes": {
      "status": "LEGACY",
      "count": 20,
      "priority": "MEDIUM"
    },
    "legacy_admin_components": {
      "status": "CLEANUP",
      "count": 28,
      "priority": "LOW"
    },
    "phantom_data_risks": {
      "status": "CLEAN",
      "count": 0,
      "priority": "GOOD"
    }
  },
  "build_lint_test": {
    "frontend_build": {
      "status": "SUCCESS_WITH_WARNINGS",
      "bundle_size_warning": "735KB chunk exceeds 500KB limit",
      "recommendation": "Implement code splitting with dynamic imports"
    },
    "typescript": {
      "status": "FAILED",
      "error_count": 69,
      "error_files": [
        "client/src/__tests__/admin_bulk_create.spec.tsx",
        "client/src/__tests__/admin_inspector.spec.tsx", 
        "client/src/__tests__/admin_nofab_boundary.spec.tsx",
        "client/src/__tests__/grower_view.spec.tsx",
        "client/src/features/booking/components/DayView.tsx",
        "client/src/pages/InspectorPanel.tsx",
        "client/src/pages/admin-dashboard.tsx"
      ],
      "major_issues": [
        "Missing test type definitions (describe, test, expect)",
        "Type mismatches in admin components",
        "Property errors in slot/booking interfaces"
      ]
    },
    "eslint": {
      "status": "FAILED",
      "issue": "Missing eslint.config.js - using deprecated .eslintrc format"
    },
    "backend_tests": {
      "status": "FAILED",
      "import_errors": 7,
      "root_cause": "Module path resolution issues",
      "affected_files": [
        "test_apply_template_preview.py",
        "test_apply_template_publish.py", 
        "test_blackout.py",
        "test_booking_patch.py",
        "test_exports_bookings_csv.py",
        "test_next_available.py",
        "test_slots_bulk_validation.py"
      ]
    },
    "python_linting": {
      "status": "UNAVAILABLE",
      "issue": "ruff not available in environment"
    }
  },
  "admin_route_header": {
    "route_conflicts": {
      "critical": true,
      "routes": [
        {
          "file": "client/src/App.tsx",
          "line": 32,
          "component": "AdminDashboard",
          "status": "LEGACY"
        },
        {
          "file": "client/src/App.tsx", 
          "line": 33,
          "component": "AdminSlotsPage",
          "status": "LEGACY"
        },
        {
          "file": "client/src/App.tsx",
          "line": 34, 
          "component": "AdminCalendarPage",
          "status": "LEGACY"
        },
        {
          "file": "app/frontend/src/App.tsx",
          "line": 24,
          "component": "AdminPage", 
          "status": "NEW"
        }
      ]
    },
    "header_implementation": {
      "new_structure": true,
      "legacy_headers_present": true,
      "legacy_locations": [
        {
          "file": "client/src/components/slot-card.tsx",
          "labels": ["Blackout"]
        },
        {
          "file": "client/src/components/RestrictionsDialog.tsx",
          "labels": ["Apply Restrictions"]
        },
        {
          "file": "client/src/pages/admin-slots.tsx", 
          "labels": ["Bulk Create"]
        }
      ]
    }
  },
  "legacy_components": {
    "total_count": 28,
    "high_risk": [
      "client/src/pages/admin-dashboard.tsx",
      "client/src/pages/admin-slots.tsx",
      "client/src/features/admin/AdminCalendarPage.tsx"
    ],
    "test_files": 15,
    "current_implementation": "app/frontend/src/pages/AdminPage.tsx"
  },
  "api_routes": {
    "non_v1_references": [
      {
        "file": "app/frontend/src/pages/AdminPage.tsx",
        "line": 51,
        "route": "/api/slots?date="
      },
      {
        "file": "app/frontend/src/features/logistics/InboundPage.tsx",
        "line": 9,
        "type": "import"
      },
      {
        "file": "app/frontend/src/features/booking/components/CalendarGrid.tsx",
        "line": 11,
        "type": "import"
      },
      {
        "file": "app/frontend/src/features/booking/components/CalendarMonth.tsx",
        "line": 13,
        "type": "import"
      },
      {
        "file": "app/frontend/src/features/booking/hooks/useSlotsRange.ts",
        "line": 5,
        "type": "import"
      }
    ]
  },
  "phantom_data_risks": {
    "status": "CLEAN",
    "placeholderData_usage": 0,
    "initialData_usage": 0, 
    "keepPreviousData_usage": 0,
    "intentional_comments": [
      {
        "file": "client/src/hooks/useSlotsRange.ts",
        "line": 3,
        "comment": "No placeholderData or keepPreviousData for admin views"
      },
      {
        "file": "client/src/features/admin/AdminCalendarPage.tsx", 
        "line": 88,
        "comment": "no placeholderData"
      }
    ]
  },
  "top_10_fixes": [
    {
      "priority": 1,
      "level": "CRITICAL",
      "title": "Resolve Admin Route Conflicts",
      "files": ["client/src/App.tsx", "app/frontend/src/App.tsx"],
      "action": "Choose single admin route structure, remove conflicting definitions"
    },
    {
      "priority": 2,
      "level": "HIGH", 
      "title": "Fix TypeScript Test Framework Types",
      "files": ["client/src/__tests__/admin_bulk_create.spec.tsx:52"],
      "action": "Install @types/vitest or configure test globals"
    },
    {
      "priority": 3,
      "level": "HIGH",
      "title": "Fix Python Test Import Paths", 
      "files": ["app/backend/tests/*"],
      "action": "Fix relative import paths and module resolution"
    },
    {
      "priority": 4,
      "level": "HIGH",
      "title": "Bundle Size Optimization",
      "files": ["Frontend build output"],
      "action": "Implement dynamic imports for large components"
    },
    {
      "priority": 5,
      "level": "MEDIUM",
      "title": "Migrate /api/ Routes to /v1/",
      "files": ["app/frontend/src/pages/AdminPage.tsx:51"],
      "action": "Change /api/slots to /v1/slots"
    },
    {
      "priority": 6,
      "level": "MEDIUM",
      "title": "Configure ESLint v9",
      "files": ["Missing eslint.config.js"],
      "action": "Migrate from .eslintrc to new config format"
    },
    {
      "priority": 7,
      "level": "MEDIUM",
      "title": "Fix InspectorPanel Type Errors",
      "files": ["client/src/pages/InspectorPanel.tsx:149"],
      "action": "Fix arithmetic operation type compatibility"
    },
    {
      "priority": 8,
      "level": "MEDIUM", 
      "title": "Clean Legacy Admin Components",
      "files": ["28 legacy admin files in client/src/"],
      "action": "Remove unused legacy components after route migration"
    },
    {
      "priority": 9,
      "level": "LOW",
      "title": "Fix Property Type Mismatches",
      "files": ["client/src/pages/admin-dashboard.tsx:595"],
      "action": "Remove originalSlotId property or update interface"
    },
    {
      "priority": 10,
      "level": "LOW",
      "title": "Update Test Type Definitions", 
      "files": ["Multiple test files with type errors"],
      "action": "Update SlotWithUsage interface for test compatibility"
    }
  ]
}